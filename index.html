<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <div id="viewport">
        </div>

        <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js" type="text/javascript"></script>
		<!--<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.transit/0.9.9/jquery.transit.min.js" type="text/javascript"></script>-->
		<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js" type="text/javascript"></script>
        <script src="imengine.js" type="text/javascript"></script>

        <script type="text/javascript">
            var viewer = ImEngine.GetViewerFor('viewport', 'http://anf.scene7.com/is/image/anf/pap_S_White?$anfCustomPolo$&scale=.65&anchor=1940,1935', {
				imageWidth: 3000,
				imageHeight: 3000,
				dragMultiplier: 1.5, 
				zoomStep: 1.5, 
				maxZoom: 1, 
				dragToPan: true, 
				clickToZoom: true,
				regionTransitionLength: 750,
				regionTransitionEasing: 'easeOutCubic',
				centerX: 1500,
				centerY: 1500,
				zoom: 0.75
			});
			viewer.on(ImEngine.Events.Ready, function() {console.log("Ready")});
			viewer.on(ImEngine.Events.ZoomChanging, function() {console.log("ZoomChanging")});
			viewer.on(ImEngine.Events.ZoomChanged, function() {console.log("ZoomChanged")});
			viewer.on(ImEngine.Events.AssetLoadFailed, function(e, d) {console.log("Load fail" + (d.reverting ? ', reverting' : ''))});
			viewer.on(ImEngine.Events.AssetLoadStatusChanged, function(e, d) {console.log("New status: " + d.loadStatus)});
			viewer.on(ImEngine.Events.Panning, function() {console.log("Panning")});
			viewer.on(ImEngine.Events.PanEnded, function() {console.log("PanEnded")});
			
//			setTimeout(step1, 4000);
			function step1F() {
				viewer.setSource('http://anf.scene7.com/is/image/anf/dafsedfwegerg?$anfProductS7Zoom$');
			}
			function step1() {
				viewer.goTo({x: 1200, y: 1200}, 0.9);
				setTimeout(step2, 500);
			}
			function step2() {
				viewer.setSource('http://anf.scene7.com/is/image/anf/anf_64642_01_prod1?$anfProductS7Zoom$');
				viewer.goTo({x: 1200, y: 1200}, 1);
				viewer.goTo({x: 1200, y: 1200}, 0.2);
				setTimeout(step3, 4000);
			}
			function step3() {
				viewer.goTo({x: 1500, y: 1500}, 1);
				setTimeout(step4, 1000);
			}
			function step4() {
				viewer.goTo({x: 0, y: 0}, 0.2);
			}
		</script>
    </body>
</html>
